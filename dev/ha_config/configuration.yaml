# Development Home Assistant configuration for ai-subscription-assist.
# This is intended to be run via dev/docker-compose.yml.

default_config:

homeassistant:
  name: AI Subscription Assist Dev
  time_zone: America/Los_Angeles
  country: US

logger:
  default: info
  logs:
    custom_components.ai_subscription_assist: debug

# Built-in demo entities (sensors, lights, media players, etc.).
demo:

# Ensure the shopping list / todo entity exists for ManageListTool.
shopping_list:

input_boolean:
  dev_flag:
    name: Dev Flag
  printer_keepalive_enabled:
    name: Printer Keepalive Enabled
    icon: mdi:printer-check

input_number:
  dev_power:
    name: Dev Power
    min: 0
    max: 2000
    step: 1
    unit_of_measurement: W

# Template sensor that produces recorder statistics (state_class + unit).
template:
  - sensor:
      - name: Dev Power Sensor
        unique_id: dev_power_sensor
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        state: "{{ states('input_number.dev_power') | float(0) }}"

input_select:
  printer_keepalive_template:
    name: Printer Keepalive Template
    icon: mdi:file-document-outline
    options:
      - home_summary
      - weather_snapshot
      - entity_report
      - hybrid
      - color_bars
    initial: home_summary

rest_command:
  printer_keepalive_print:
    url: "http://printer_keepalive:8099/print?template={{ template | default(states('input_select.printer_keepalive_template'), true) | urlencode }}"
    method: POST
    timeout: 120

script:
  printer_keepalive_print_page:
    alias: Printer Keepalive Print Page
    sequence:
      - action: rest_command.printer_keepalive_print
        data:
          template: "{{ template | default(states('input_select.printer_keepalive_template'), true) }}"

automation: !include automations.yaml
